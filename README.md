# U-FRET Ad Blocker iOS

**⚠️ このプロジェクトは教育目的で作成されています。学習・研究目的での使用を想定しています。**

U-FRETの広告をブロックするiOSアプリケーションです。SwiftUIとWKWebViewを使用して、広告要素を自動的に削除し、快適な閲覧体験を提供します。

## 機能

- **広告ブロック**: Google広告、Geniee広告、YADS広告など、主要な広告ネットワークをブロック
- **自動削除**: DOM要素の監視により、動的に追加される広告も自動的に削除
- **ネットワークブロック**: 広告関連のリクエストをネットワークレベルでブロック
- **スクロール保護**: 広告による意図しないスクロール位置の変更を防止
- **シンプルなUI**: URLバー、戻る/進むボタン、リロードボタンを備えたシンプルなブラウザUI

## 要件

- iOS 14.0 以降
- Xcode 12.0 以降
- Swift 5.0 以降

## セットアップ

1. リポジトリをクローンします：
```bash
git clone https://github.com/myml12/Ufret_Ad_Blocker_iOS
cd Ufret_Ad_Blocker_iOS
```

2. Xcodeでプロジェクトを開きます：
```bash
open Ufret_Ad_Blocker_iOS.xcodeproj
```

3. シミュレーターまたは実機を選択して実行します。

## 使用方法

1. アプリを起動すると、デフォルトで `https://www.ufret.jp` が表示されます
2. 広告は自動的にブロックされ、削除されます。自由にブラウジングできます。

## 技術スタック

- **SwiftUI**: ユーザーインターフェースの構築
- **WKWebView**: Webコンテンツの表示
- **JavaScript**: 広告要素の検出と削除
- **MutationObserver**: DOM変更の監視

## 広告ブロックの仕組み

### DOM要素の削除

以下のセレクタパターンに一致する要素を自動的に削除します：

- Google広告関連: `[id^="google_ads_iframe_"]`, `iframe[title*="広告"]` など
- Geniee広告関連: `#geniee_overlay_outer`, `#gn_interstitial_outer_area` など
- YADS広告関連: `[id^="yads"]`, `[class*="yads_ad"]` など
- その他の広告要素: フルスクリーン広告、ダイアログ、カルーセル広告など

### ネットワークレベルのブロック

以下のURLパターンを含むリクエストをブロックします：

- `googleads`, `doubleclick`, `googlesyndication`
- `geniee`, `yads`
- `bidr.io`, `richaudience`
- その他の広告関連ドメイン

### スクロール保護

広告による意図しないスクロール位置の変更を防止するため、以下の機能を実装しています：

- `scrollTo(0, 0)` などの自動スクロールをブロック
- スクロール位置の自動復元
- `overflow: hidden` の強制解除

## プロジェクト構造

```
Ufret_Ad_Blocker_iOS/
├── Ufret_Ad_Blocker_iOS/
│   ├── Ufret_Ad_Blocker_iOSApp.swift    # アプリのエントリーポイント
│   ├── ContentView.swift                 # メインのUIビュー
│   ├── WebViewContainer.swift            # WKWebViewのラッパーと広告ブロックロジック
│   └── content.js                        # 広告ブロック用のJavaScript（参考用）
└── README.md
```

## 免責事項

**このプロジェクトは教育目的で作成されています。以下の点について免責します：**

1. **教育目的**: このアプリケーションは、iOSアプリ開発、SwiftUI、WKWebView、JavaScript、広告ブロック技術の学習・研究を目的として作成されています。

2. **使用目的**: 個人の学習・研究目的での使用を想定しています。商用利用や再配布は想定していません。

3. **動作保証**: このソフトウェアは「現状のまま」提供され、明示的または黙示的な保証は一切ありません。動作の正確性、完全性、特定目的への適合性について保証しません。

4. **損害の責任**: このソフトウェアの使用または使用不能により生じた損害（直接損害、間接損害、特別損害、結果的損害、逸失利益を含む）について、作成者および貢献者は一切の責任を負いません。

5. **法的遵守**: このソフトウェアの使用は、利用者の責任において行ってください。利用者が居住する地域の法律、規制、利用規約を遵守する責任は利用者にあります。

6. **Webサイトへの影響**: 広告ブロック機能は、Webサイトの収益モデルに影響を与える可能性があります。Webサイトの利用規約を確認し、適切に使用してください。

7. **完全性**: 一部の広告は動的に追加されるため、すべての広告を完全にブロックできることを保証しません。

8. **更新・サポート**: このプロジェクトの更新、バグ修正、サポートは保証されません。
